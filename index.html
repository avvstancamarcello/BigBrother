<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-key="page_title">Big Brother The Musical - Collezione Immagini NFT</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta name="theme-color" content="#4CAF50">
    <!-- ethers.js e abi.js -->
    <script src="abi.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers/dist/ethers.umd.min.js"></script>
    <script src="main.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f2f5;
            color: #333;
            margin: 20px;
            text-align: center;
            line-height: 1.6;
            font-size: 16px;
        }
        h1 { color: #4CAF50; font-size: 2.2em; margin-bottom: 10px; }
        h2 { color: #2e7d32; font-size: 1.8em; margin-top: 40px; margin-bottom: 15px; }
        h3 { color: #1b5e20; font-size: 1.4em; margin-top: 30px; margin-bottom: 10px; text-align: left; }
        p { text-align: justify; margin-bottom: 10px; font-size: 1em; }
        ul { text-align: left; list-style-position: inside; padding-left: 20px; font-size: 1em; }
        li { margin-bottom: 5px; }
        .intro-text, .content-section {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            font-size: 1.1em;
            font-style: italic;
            color: #1b5e20;
            text-align: center;
        }
        .content-section { background-color: #fff; font-style: normal; color: #333; text-align: left; }
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 40px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .image-card {
            background-color: #e8f5e9;
            border: 1px solid #c8e6c9;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
        }
        .image-card img {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
            margin-bottom: 10px;
            border: 2px solid #81c784;
            cursor: pointer;
        }
        .image-card p {
            font-weight: bold;
            color: #2e7d32;
            margin: 5px 0 0;
            font-size: 1em;
        }
        .mint-btn {
            margin-top: 8px;
            padding: 7px 16px;
            background-color: #4CAF50;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.2s;
        }
        .mint-btn:hover, .mint-btn:focus {
            background-color: #388e3c;
        }
        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            font-size: 0.8em;
            color: #777;
            text-align: center;
        }
        .lang-switcher { text-align: right; margin-bottom: 15px; }
        .lang-button {
            background-color: #007bff;
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            touch-action: manipulation;
        }
        .lang-button:hover { background-color: #0056b3; }
        .image-instruction {
            color: green;
            font-family: Arial, sans-serif;
            font-size: 1.1em;
            text-align: center;
            margin-top: -20px;
            margin-bottom: 10px;
            font-weight: bold;
        }
        .privacy-policy-section {
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f8f8f8;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            text-align: left;
            border: 1px solid #eee;
        }
        .privacy-policy-section h2, .privacy-policy-section h3 {
            color: #4CAF50;
            text-align: center;
        }
        .privacy-policy-section p { font-size: 0.95em; line-height: 1.5; }
        .privacy-policy-section ul { font-size: 0.95em; }
        .security-recommendation-note {
            max-width: 900px;
            margin: 30px auto;
            padding: 20px;
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            border-radius: 8px;
            color: #856404;
            text-align: justify;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        }
        .security-recommendation-note h3 {
            color: #856404;
            text-align: center;
            margin-top: 0;
            margin-bottom: 10px;
        }
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0; top: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            display: block;
            margin: auto;
            max-width: 90vw;
            max-height: 80vh;
            border-radius: 10px;
            box-shadow: 0 4px 32px rgba(0,0,0,0.3);
        }
        .close {
            position: absolute;
            top: 20px; right: 32px;
            color: #fff;
            font-size: 2.5em;
            font-weight: bold;
            cursor: pointer;
            z-index: 101;
        }
        @media (max-width: 600px) {
            .modal-content { max-width: 98vw; max-height: 70vh; }
            .close { right: 16px; top: 8px; }
        }
        @media (max-width: 768px) {
            body { margin: 10px; font-size: 15px; }
            h1 { font-size: 1.8em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.2em; }
            .intro-text, .content-section, .security-recommendation-note, .privacy-policy-section {
                padding: 15px;
                margin: 15px auto;
                max-width: 100%;
            }
            .image-grid {
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
                gap: 15px;
                padding: 15px;
            }
            .image-card { padding: 10px; }
            .lang-switcher { text-align: center; }
        }
        @media (max-width: 480px) {
            body { font-size: 14px; }
            h1 { font-size: 1.6em; }
            h2 { font-size: 1.3em; }
            h3 { font-size: 1.1em; }
            .image-grid {
                grid-template-columns: 1fr;
                gap: 10px;
                padding: 10px;
            }
            .image-card img { max-width: 80%; }
            .image-instruction { font-size: 1em; }
            .token-table { font-size: 0.8em; }
            .token-table th, .token-table td { padding: 4px; }
        }

        /* Stili per la tabella valori token */
        .euro-price-control {
            background-color: #e8f5e9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
            border: 1px solid #c8e6c9;
        }
        .euro-price-control label {
            font-weight: bold;
            color: #2e7d32;
            margin-right: 10px;
        }
        .euro-price-control input {
            padding: 5px 10px;
            border: 1px solid #c8e6c9;
            border-radius: 4px;
            margin: 0 10px;
            width: 100px;
        }
        .euro-price-control button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }
        .euro-price-control button:hover {
            background-color: #388e3c;
        }
        .table-container {
            overflow-x: auto;
        }
        .token-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .token-table th {
            background-color: #4CAF50;
            color: white;
            padding: 12px;
            text-align: center;
            font-weight: bold;
        }
        .token-table td {
            padding: 10px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }
        .token-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        .token-table tr:hover {
            background-color: #e8f5e9;
        }

        /* Stili per il sistema di commenti */
        .comment-form {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border: 1px solid #eee;
        }
        .rating-section {
            margin-bottom: 15px;
            text-align: center;
        }
        .rating-section label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #2e7d32;
        }
        .star-rating {
            font-size: 2em;
            margin: 10px 0;
        }
        .star {
            cursor: pointer;
            color: #ddd;
            transition: color 0.2s;
            margin: 0 2px;
        }
        .star:hover,
        .star.active {
            color: #ffd700;
        }
        #rating-display {
            display: block;
            margin-top: 10px;
            font-style: italic;
            color: #666;
        }
        .comment-input-section {
            margin-top: 20px;
        }
        .comment-input-section label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #2e7d32;
        }
        .comment-input-section textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #c8e6c9;
            border-radius: 4px;
            resize: vertical;
            font-family: Arial, sans-serif;
            font-size: 14px;
        }
        .comment-input-section button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
        }
        .comment-input-section button:hover {
            background-color: #388e3c;
        }
        .comments-display {
            margin-top: 30px;
        }
        .comments-display h3 {
            color: #2e7d32;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 5px;
        }
        #comments-list {
            margin-top: 15px;
        }
        .comment-item {
            background-color: #fff;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            border-left: 4px solid #4CAF50;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .comment-rating {
            color: #ffd700;
            font-size: 1.2em;
            margin-bottom: 5px;
        }
        .comment-text {
            color: #333;
            line-height: 1.5;
        }
        .comment-timestamp {
            font-size: 0.9em;
            color: #666;
            margin-top: 10px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="lang-switcher">
        <button class="lang-button" id="toggleLangButton" onclick="switchLanguage()" aria-live="polite" aria-label="Cambia lingua">Traduci e leggi in lingua inglese</button>
    </div>

    <main role="main">
        <h1 data-key="main_page_title" id="main_page_title">Collezione NFT "Big Brother The Musical"</h1>
        <h2 data-key="main_subtitle" id="main_subtitle">Crowdfunding artistico musicale.<br>Presentazione alla stampa</h2>
        <div class="intro-text" role="region" aria-labelledby="main_page_title">
            <p data-key="intro_para1">Osservate queste immagini. Quella che vedete non è una semplice galleria di immagini, ma qualcosa di veramente innovativo! ✨ È una galleria di <b>valori digitali</b>, opere d'arte originali, rappresentative di un progetto creativo ambizioso, tutelato da copyright, costruttore di nuovi valori per i possessori, ma condivisibile. 💡</p>
            <p data-key="intro_para2">Vi spiego con ordine 👇</p>
        </div>
        <p data-key="image_instruction_text" class="image-instruction" id="image_instruction">Mostra immagine a schermo intero con un click su qualsiasi immagine</p>

        <div class="image-grid" id="image-container" role="region" aria-labelledby="image_instruction"></div>

        <!-- Modal per visualizzazione ingrandita -->
        <div id="modal" class="modal" onclick="closeModal()" style="display:none">
            <span class="close" onclick="closeModal()">&times;</span>
            <img class="modal-content" id="modal-img">
        </div>

        <!-- Tabella valori TokenID -->
        <div class="content-section" role="region" aria-labelledby="token_table_title">
            <h2 data-key="token_table_title" id="token_table_title">Tabella Valori Token BBTM</h2>
            
            <div class="euro-price-control">
                <label for="euro-price-input" data-key="euro_price_label">Prezzo EUR/POL:</label>
                <input type="number" id="euro-price-input" min="0" step="0.01" value="1.00" onchange="updateEuroPrices(parseFloat(this.value))">
                <button onclick="updateEuroPrices(parseFloat(document.getElementById('euro-price-input').value))" data-key="update_prices_btn">Aggiorna Prezzi</button>
            </div>

            <div class="table-container">
                <table class="token-table" id="token-table">
                    <thead>
                        <tr>
                            <th data-key="col_token_id">Token ID</th>
                            <th data-key="col_bbtm_value">Valore BBTM</th>
                            <th data-key="col_pol_value">Valore POL</th>
                            <th data-key="col_euro_value">Prezzo EUR</th>
                            <th data-key="col_wei_value">Valore WEI</th>
                        </tr>
                    </thead>
                    <tbody id="token-table-body">
                        <!-- Token rows will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Sistema di commenti e valutazioni -->
        <div class="content-section" role="region" aria-labelledby="comment_section_title">
            <h2 data-key="comment_section_title" id="comment_section_title">Lascia un Commento</h2>
            
            <div class="comment-form">
                <div class="rating-section">
                    <label data-key="rating_label">Valutazione (opzionale):</label>
                    <div class="star-rating" id="star-rating">
                        <span class="star" data-rating="1">☆</span>
                        <span class="star" data-rating="2">☆</span>
                        <span class="star" data-rating="3">☆</span>
                        <span class="star" data-rating="4">☆</span>
                        <span class="star" data-rating="5">☆</span>
                    </div>
                    <span id="rating-display" data-key="no_rating">Nessuna valutazione</span>
                </div>
                
                <div class="comment-input-section">
                    <label for="comment-text" data-key="comment_label">Commento anonimo:</label>
                    <textarea id="comment-text" rows="4" placeholder="Scrivi il tuo commento qui..." data-key="comment_placeholder"></textarea>
                    <button onclick="submitComment()" data-key="submit_comment_btn">Invia Commento</button>
                </div>
            </div>

            <div class="comments-display" id="comments-display">
                <h3 data-key="comments_title">Commenti della Community</h3>
                <div id="comments-list">
                    <!-- Comments will be displayed here -->
                </div>
            </div>
        </div>

        <div class="content-section" role="region" aria-labelledby="official_presentation_title">
            <h2 data-key="official_presentation_title" id="official_presentation_title">Presentazione Ufficiale: "Big Brother The Musical" – L'Opera Definitiva Finanziata dalla Blockchain 🎉</h2>
            <h3 data-key="section_intro_project" id="section_intro_project">Introduzione al Progetto 🎭</h3>
            <p data-key="intro_project_para1">Io sono qui oggi per presentarvi un progetto che trascende i confini dell'arte e della tecnologia: "Big Brother The Musical". Non è solo una nuova opera lirica e teatrale; è un ponte tra la genialità creativa e il futuro del finanziamento decentralizzato. Dietro questa ambizione, c'è un team d'eccellenza e una solida infrastruttura digitale che cambierà il modo di concepire il crowdfunding per le grandi produzioni artistiche.</p>
            <h3 data-key="section_philosophy_defi" id="section_philosophy_defi">La Filosofia DeFi e il Vantaggio degli NFT 🔗</h3>
            <p data-key="philosophy_defi_para1">Immaginate la finanza decentralizzata (DeFi) come un meccanismo che aggrega gli investimenti non tramite banche o intermediari tradizionali, ma direttamente attraverso la comunità globale, con la massima trasparenza. La convenienza di aggregare investimenti tramite la vendita degli NFT è straordinaria: voi investite in un bene digitale unico, che acquisisce valore con il successo del progetto, e al tempo stesso sostenete direttamente un'opera d'arte grandiosa. 🚀</p>
            <h3 data-key="section_smart_contract" id="section_smart_contract">Lo Smart Contract: Il Cuore Tecnologico della Produzione 🛡️</h3>
            <p data-key="smart_contract_para1">Il cuore pulsante di questa iniziativa: lo Smart Contract "Big Brother The Musical", la nostra "Zecca Digitale". È con immenso orgoglio che io, in qualità di presentatore, evidenzio la sua paternità: l'autore e regista di questo capolavoro di codice è l'Avvocato Marcello Stanca di Firenze <a href="https://github.com/avvstancamarcello" target="_blank">@AvvMarcelloStanca</a>.</p>
            <p data-key="smart_contract_para2">Ho assistito in prima persona alla genesi di questo Smart Contract e posso testimoniare che è un'opera complessa e articolata, ma al tempo stesso incredibilmente robusta e resistente agli attacchi informatici. Il lavoro necessario all'Avvocato Stanca è stato pionieristico; egli ha affrontato la costruzione dello Smart Contract come un corpus unico, efficace ed autosufficiente.</p>
            <h3 data-key="section_blockchain_security" id="section_blockchain_security">La Tracciabilità su Blockchain: Trasparenza e Sicurezza 🌍</h3>
            <p data-key="blockchain_security_para1">Ogni transazione è tracciabile e immediatamente registrata su una rete blockchain mondiale. Questo è possibile grazie a un registro distribuito su numerosi nodi in cloud, indipendenti e non alterabili.</p>
            <h3 data-key="section_team" id="section_team">Il Team d'Eccellenza: Garanzia di Affidabilità 🌟</h3>
            <ul>
                <li data-key="team_member1">Avv. Marcello Stanca di Firenze <a href="https://github.com/avvstancamarcello" target="_blank">@AvvMarcelloStanca</a>, autore dello Smart Contract.</li>
                <li data-key="team_member2">M° Stefano Burbi, compositore e direttore d'orchestra.</li>
                <li data-key="team_member3">Fabrizio Carbon, produttore esecutivo di fama internazionale.</li>
            </ul>
            <h3 data-key="section_art_collecting" id="section_art_collecting">L'Arte e il Collezionismo Digitale: NFT Iconici 🖼️</h3>
            <p data-key="art_collecting_para1">Abbiamo dedicato un raffinato lavoro alla composizione grafica degli NFT. L'obiettivo è proporre NFT originali ed accattivanti, capaci di stimolare l'interesse del collezionista ad acquistare l'intera "collezione".</p>
            <h2 data-key="call_to_action_title" id="call_to_action_title">Invito all'Investimento e Qualità del Progetto 🚀</h2>
            <p data-key="call_to_action_para1">Investire in "Big Brother The Musical" significa sostenere l'arte, innovare la finanza e possedere un pezzo di storia digitale. Unisciti a noi!</p>
        </div>

        <section class="privacy-policy-section" id="privacy-policy" role="region" aria-labelledby="privacy_policy_title">
            <h2 data-key="privacy_policy_title" id="privacy_policy_title">Privacy Policy</h2>
            <h3 data-key="data_collection_title">Raccolta Dati Personali</h3>
            <p data-key="data_collection_para1">Questo sito non raccoglie direttamente alcuna informazione personale identificabile dagli utenti.</p>
            <h3 data-key="cookies_tracking_title">Cookie e Tecnologie di Tracciamento</h3>
            <p data-key="cookies_tracking_para1">Non utilizziamo cookie o tecnologie di tracciamento per monitorare il comportamento degli utenti.</p>
            <h3 data-key="ipfs_content_title">Contenuti Ospitati su IPFS</h3>
            <p data-key="ipfs_content_para1">Le immagini e i metadati degli NFT sono ospitati su IPFS tramite gateway pubblici. Non abbiamo controllo sulle pratiche di privacy dei gateway IPFS.</p>
            <h3 data-key="blockchain_data_title">Dati Blockchain</h3>
            <p data-key="blockchain_data_para1">Tutte le transazioni NFT avvengono sulla blockchain Polygon. I dati registrati sono pubblici e immutabili.</p>
            <h3 data-key="external_links_title">Collegamenti Esterni</h3>
            <p data-key="external_links_para1">Questa pagina può contenere collegamenti a piattaforme e servizi esterni. Non siamo responsabili per le loro pratiche di privacy.</p>
            <h3 data-key="changes_policy_title">Modifiche a questa Policy</h3>
            <p data-key="changes_policy_para1">Questa Policy può essere aggiornata in futuro.</p>
            <p data-key="last_updated_text">Ultimo aggiornamento: 2 Agosto 2025</p>
            <h3 data-key="contact_title">Contatti</h3>
            <p data-key="contact_para1">Per domande, contattaci tramite i canali ufficiali del progetto.</p>
        </section>

        <section class="security-recommendation-note" id="security-recommendation-note" role="region" aria-labelledby="security_recommendation_title">
            <h3 data-key="security_recommendation_title" id="security_recommendation_title">Raccomandazioni per la Visualizzazione Contenuti IPFS</h3>
            <p data-key="security_reco_para1">Alcuni link puntano a contenuti su IPFS. Potrebbero comparire avvisi di sicurezza da parte di browser o antivirus. Procedere solo se si è certi dell'affidabilità della fonte.</p>
        </section>
    </main>
    <div class="footer">
        <p data-key="footer_text">Powered by Big Brother The Musical - Smart Contract by Avv. Marcello Stanca © Giugno 2025</p>
        <p><a href="#privacy-policy" data-key="footer_privacy_link">Privacy Policy</a></p>
    </div>

    <script>
    // Galleria immagini preview locale + accessibilità + mint
    const imageNames = [
      "5_watermarked_double_watermarked.png", "10_watermarked_double_watermarked.png", "15_watermarked_double_watermarked.png", "20_watermarked_double_watermarked.png",
      "25_watermarked_double_watermarked.png", "30_watermarked_double_watermarked.png", "35_watermarked_double_watermarked.png", "40_watermarked_double_watermarked.png",
      "45_watermarked_double_watermarked.png", "50_watermarked_double_watermarked.png", "55_watermarked_double_watermarked.png", "60_watermarked_double_watermarked.png",
      "65_watermarked_double_watermarked.png", "70_watermarked_double_watermarked.png", "75_watermarked_double_watermarked.png", "80_watermarked_double_watermarked.png",
      "85_watermarked_double_watermarked.png", "90_watermarked_double_watermarked.png", "95_watermarked_double_watermarked.png", "100_watermarked_double_watermarked.png"
    ];
    const imageContainer = document.getElementById('image-container');
    imageNames.forEach(name => {
      const imageCard = document.createElement('div');
      imageCard.className = 'image-card';
      imageCard.innerHTML = `
        <img src="images/officials-preview/Watermarked_double_compressed/${name}" alt="BBTM NFT ${name}"
             onclick="openModal('images/officials-preview/Watermarked_double_compressed/${name}')"
             onkeydown="if(event.key==='Enter'||event.key===' '){openModal('images/officials-preview/Watermarked_double_compressed/${name}')}"
             tabindex="0">
        <p>Immagine: ${name}</p>
        <button class="mint-btn" onclick="mintNFT('${name}')">Mint NFT</button>
      `;
      imageContainer.appendChild(imageCard);
    });
    function openModal(src) {
      document.getElementById('modal').style.display = "block";
      document.getElementById('modal-img').src = src;
    }
    function closeModal() {
      document.getElementById('modal').style.display = "none";
    }
    document.addEventListener('keydown', function(e) {
      if (e.key === "Escape") closeModal();
    });

    // Mint NFT con Metamask
    async function mintNFT(imageName) {
        if (typeof window.ethereum === 'undefined') {
            alert('Per favore installa Metamask per mintare NFT.');
            return;
        }
        
        const contractAddress = '0xbBf8573736e6D1f20a26d2F0B8319C8021B015D1';

        // ✅ Controllo corretto prima del log
        if (typeof contractABI === 'undefined') {
             alert('ABI non caricata! Verifica che il file abi.js sia presente.');
             return;
        }

        // ✅ Ora è sicuro loggare                 
        console.log("ABI disponibile?", typeof contractABI, contractABI);
        

        try {
            const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
            const account = accounts[0];
            const provider = new ethers.providers.Web3Provider(window.ethereum);
            const signer = provider.getSigner();
            const contract = new ethers.Contract(contractAddress, contractABI, signer);
            // Personalizzare secondo la funzione del tuo smart contract
            const tx = await contract.mintNFT(account, imageName);
            await tx.wait();
            alert('Mint effettuato! Transazione: ' + tx.hash);
        } catch (err) {
            alert('Mint fallito: ' + (err?.reason || err?.message || err));
        }
    }

    // --- Traduzioni --- (ITA/ENG demo, aggiungi o estendi le chiavi per tutte le sezioni!)
    const translations = {
        en: {
            page_title: "Big Brother The Musical - NFT Image Collection",
            main_page_title: "NFT Collection \"Big Brother The Musical\"",
            main_subtitle: "Artistic Musical Crowdfunding.<br>Press Presentation",
            toggle_button_text: "Translate and read in Italian",
            intro_para1: "Observe these images. This is not just an image gallery, but something truly innovative! It's a gallery of <b>digital values</b>, original artworks representing an ambitious creative project.",
            intro_para2: "Let me explain 👇",
            image_instruction_text: "Show image fullscreen by clicking any image",
            token_table_title: "BBTM Token Values Table",
            euro_price_label: "EUR/POL Price:",
            update_prices_btn: "Update Prices",
            col_token_id: "Token ID",
            col_bbtm_value: "BBTM Value",
            col_pol_value: "POL Value",
            col_euro_value: "EUR Price",
            col_wei_value: "WEI Value",
            comment_section_title: "Leave a Comment",
            rating_label: "Rating (optional):",
            no_rating: "No rating",
            comment_label: "Anonymous comment:",
            comment_placeholder: "Write your comment here...",
            submit_comment_btn: "Submit Comment",
            comments_title: "Community Comments",
            official_presentation_title: "Official Presentation: \"Big Brother The Musical\" – The Ultimate Work Funded by Blockchain 🎉",
            section_intro_project: "Introduction to the Project 🎭",
            intro_project_para1: "I am here to present a project that transcends the boundaries of art and technology...",
            section_philosophy_defi: "DeFi Philosophy and the Advantage of NFTs 🔗",
            philosophy_defi_para1: "Imagine decentralized finance (DeFi) as a mechanism aggregating investments directly through the global community, with maximum transparency...",
            section_smart_contract: "The Smart Contract: The Technological Heart 🛡️",
            smart_contract_para1: "The beating heart: the Smart Contract 'Big Brother The Musical', our 'Digital Mint'...",
            smart_contract_para2: "I witnessed the genesis of this Smart Contract; it is complex, robust, and secure...",
            section_blockchain_security: "Blockchain Traceability: Transparency & Security 🌍",
            blockchain_security_para1: "Every transaction is traceable and instantly recorded on a global blockchain network...",
            section_team: "Team of Excellence: Reliability Guarantee 🌟",
            team_member1: "Lawyer Marcello Stanca of Florence <a href=\"https://github.com/avvstancamarcello\" target=\"_blank\">@AvvMarcelloStanca</a>, Smart Contract author.",
            team_member2: "Maestro Stefano Burbi, composer and conductor.",
            team_member3: "Fabrizio Carbon, internationally renowned executive producer.",
            section_art_collecting: "Art and Digital Collecting: Iconic NFTs 🖼️",
            art_collecting_para1: "We refined the graphic composition of the NFTs, aiming to create original and captivating NFTs...",
            call_to_action_title: "Investment Invitation & Project Quality 🚀",
            call_to_action_para1: "Investing in 'Big Brother The Musical' means supporting art, innovating finance, and owning a piece of digital history. Join us!",
            privacy_policy_title: "Privacy Policy",
            data_collection_title: "Personal Data Collection",
            data_collection_para1: "This site does not directly collect any personally identifiable information.",
            cookies_tracking_title: "Cookies & Tracking Technologies",
            cookies_tracking_para1: "We do not use cookies or tracking technologies to monitor user behavior.",
            ipfs_content_title: "Content Hosted on IPFS",
            ipfs_content_para1: "NFT images and metadata are hosted on IPFS via public gateways. We have no control over gateway privacy practices.",
            blockchain_data_title: "Blockchain Data",
            blockchain_data_para1: "All NFT transactions occur on the Polygon blockchain. Data is public and immutable.",
            external_links_title: "External Links",
            external_links_para1: "This page may contain links to external platforms and services. We are not responsible for their privacy practices.",
            changes_policy_title: "Policy Changes",
            changes_policy_para1: "This Policy may be updated in the future.",
            last_updated_text: "Last updated: August 2, 2025",
            contact_title: "Contact",
            contact_para1: "For questions, contact us through official project channels.",
            security_recommendation_title: "Recommendations for Viewing IPFS Content",
            security_reco_para1: "Some links point to IPFS content. Security warnings may appear from browsers or antivirus. Proceed only if you trust the source.",
            footer_text: "Powered by Big Brother The Musical - Smart Contract by Avv. Marcello Stanca © June 2025",
            footer_privacy_link: "Privacy Policy"
        }
    };
    let currentLang = 'it';
    function switchLanguage() {
        currentLang = currentLang === 'it' ? 'en' : 'it';
        const langData = translations[currentLang];
        document.getElementById('toggleLangButton').textContent = currentLang === 'it' ? 'Traduci e leggi in lingua inglese' : 'Translate and read in Italian';
        document.querySelectorAll('[data-key]').forEach(element => {
            const key = element.getAttribute('data-key');
            if (langData && langData[key]) {
                if (["P","LI","SPAN","A","H2","H3"].includes(element.tagName))
                    element.innerHTML = langData[key];
                else
                    element.textContent = langData[key];
            }
        });
    }
    </script>
</body>
</html>
